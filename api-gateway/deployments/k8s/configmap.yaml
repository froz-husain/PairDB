apiVersion: v1
kind: ConfigMap
metadata:
  name: api-gateway-config
  namespace: pairdb
  labels:
    app.kubernetes.io/name: api-gateway
    app.kubernetes.io/component: gateway
    app.kubernetes.io/part-of: pairdb
data:
  config.yaml: |
    server:
      port: 8080
      read_timeout: 30s
      write_timeout: 30s
      idle_timeout: 120s
      shutdown_timeout: 30s

    coordinator:
      endpoints:
        - coordinator-service.pairdb.svc.cluster.local:50051
      timeout: 30s
      max_retries: 3
      retry_backoff: 100ms
      keepalive_time: 30s
      keepalive_timeout: 10s
      max_receive_message_size: 16777216
      max_send_message_size: 16777216

    rate_limiter:
      enabled: true
      requests_per_second: 1000
      burst_size: 100

    metrics:
      enabled: true
      port: 9090
      path: /metrics

    logging:
      level: info
      format: json
      output: stdout

